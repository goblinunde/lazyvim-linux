# üåç Multilingual Support (i18n)

This LazyVim configuration supports multiple languages for the user interface.

## Supported Languages

- **English (en)** - Default language
- **ÁÆÄ‰Ωì‰∏≠Êñá (zh_CN)** - Simplified Chinese  
- **Fran√ßais (fr)** - French
- **Deutsch (de)** - German

## Usage

### Switching Languages

#### Method 1: Using Commands

```vim
" List all available languages
:LangList

" Switch to a specific language
:LangSwitch zh_CN   " Switch to Simplified Chinese
:LangSwitch fr      " Switch to French
:LangSwitch de      " Switch to German
:LangSwitch en      " Switch to English
```

#### Method 2: Using Telescope Picker (Recommended)

Press `<leader>uL` to open the Telescope language picker with a visual interface.

### Language Persistence

Your selected language is automatically saved and will be restored when you restart Neovim.

## What is Translated

The i18n system translates:

- **Keymap descriptions** - All keymap hints shown in which-key
- **User notifications** - File save, preview, and error messages
- **Command outputs** - Language list and status messages
- **UI group names** - Which-key group labels (File, Git, Code, etc.)

## Implementation Details

### Architecture

- **Core module**: `lua/i18n/init.lua` - Language loading and translation engine
- **Language packs**: `lua/i18n/locales/*.lua` - Translation dictionaries
- **Telescope picker**: `lua/utils/telescope_lang_picker.lua` - Visual selection UI

### Translation Function

Use `i18n.t(key, params)` to get translated strings:

```lua
local i18n = require("i18n")

-- Simple translation
local text = i18n.t("keymaps.save_file")  -- Returns "Save file" in English

-- Parameterized translation
local msg = i18n.t("notifications.file_opened", { filename = "example.txt" })
```

### Fallback Mechanism

If a translation key is missing in the current language, the system automatically falls back to the English translation to ensure UI stability.

## Adding New Languages

To add support for a new language:

1. Create a new language pack file: `lua/i18n/locales/<lang_code>.lua`
2. Copy the structure from `lua/i18n/locales/en.lua`
3. Translate all string values
4. Add the language to `M.supported_languages` in `lua/i18n/init.lua`

Example:

```lua
-- lua/i18n/locales/ja.lua (Japanese)
local M = {}

M.keymaps = {
  save_file = "„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò",
  -- ... more translations
}

return M
```

Then update `init.lua`:

```lua
M.supported_languages = {
  en = "English",
  zh_CN = "ÁÆÄ‰Ωì‰∏≠Êñá",
  fr = "Fran√ßais",
  de = "Deutsch",
  ja = "Êó•Êú¨Ë™û",  -- Add new language
}
```

## Technical Notes

- Language setting is stored in `~/.local/share/nvim/language.txt`
- The i18n system is initialized before other configurations in `options.lua`
- Some plugins may have hardcoded English text that is not translatable
- LaTeX commands and technical terms are intentionally kept in English for consistency

## Troubleshooting

### Language not switching

1. Check if you have the correct language code:

   ```vim
   :LangList
   ```

2. Reload Neovim configuration:

   ```vim
   :source $MYVIMRC
   ```

3. Restart Neovim completely

### Missing translations

If you see `[Missing: some.key]` in the UI, it means that translation key is not defined in the current language pack. Please report this or add the missing translation.

## Credits

- Translation quality for French and German was assisted by AI and may need refinement
- Contributions to improve translations are welcome!
